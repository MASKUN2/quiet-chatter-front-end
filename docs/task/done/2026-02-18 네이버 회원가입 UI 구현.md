# 에이전트 작업 절차

1. 아래 `## 개발자 요구사항` 섹션을 바탕으로 코드 베이스를 검토하고 작업을 준비한다.
2. 만약 마지막 섹션이 `## 개발자 요구사항 수정` 또는 `## 개발자 검토답변` 등 개발자의 섹션이라면 중간을 건너뛰고 해당 부분부터 작업하도록 한다.
3. 개발자의 의사결정이 필요한 내용이 있다면 문의할 내용을 이 파일의 마지막에 `## 에이전트 검토요청`으로 섹션을 추가하고 작업을 종료한다.
4. 작업을 완료한 경우 내용 이 파일의 마지막에 `## 에이전트 작업수행내용 : {yyyy-MM-dd HH : MM}` 섹션을 추가하고 작업한 상세 내용을 작성한다.
5. 그밖의 일반적인 작업지침은 [ai_agent_guide.md](/docs/guide/ai_agent_guide.md) 을 확인 후 작업한다.

## 개발자 요구사항

- 백엔드의 로그인/회원가입 프로세스 분리에 맞춰 프론트엔드 로직을 변경한다.
- **네이버 로그인 콜백 (`NaverCallback.tsx`)**:
    - 로그인 API 호출 후 `isRegistered`가 `false`이면 회원가입 모달을 띄운다.
    - `true`이면 즉시 로그인 완료 처리한다.
- **회원가입 모달 (`SignupModal.tsx`)**:
    - 사용자에게 닉네임을 입력받는다.
    - '가입하기' 클릭 시 회원가입 API를 호출한다.
- **API 연동**:
    - `loginWithNaver`의 응답 타입 변경 (`NaverLoginResponse`).
    - `signupWithNaver` 함수 추가.
- **UX 개선**: 로그인 및 가입 성공 시 `Snackbar`(토스트 메시지)를 통해 사용자에게 피드백을 제공한다.

## 에이전트 작업수행내용 : 2026-02-18 21:40

### 1. API 및 타입 동기화
- 백엔드 `openapi3.json`을 기반으로 `src/types/api-schema.d.ts`를 최신화했습니다.
- `src/api/api.ts`에 `signupWithNaver` 함수를 추가하고, `loginWithNaver`가 `NaverLoginResponse`를 반환하도록 수정했습니다.

### 2. UI 컴포넌트 구현
- `src/components/common/SignupModal.tsx`: 닉네임 입력을 위한 다이얼로그 컴포넌트를 구현했습니다.
- `src/pages/NaverCallback.tsx`:
    - 로그인 상태(`isRegistered`)에 따른 분기 로직을 구현했습니다.
    - `MUI Snackbar`를 도입하여 로그인 성공, 회원가입 완료, 실패 등의 상태 메시지를 사용자에게 보여주도록 개선했습니다.
    - 회원가입 취소 시 홈으로 이동하도록 처리했습니다.

### 3. 검증
- `npm run build`를 통해 타입 안전성을 확인하고 빌드가 성공함을 검증했습니다.
